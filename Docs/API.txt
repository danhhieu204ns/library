Danh sÃ¡ch cÃ¡c API cáº§n xÃ¢y dá»±ng cho Backend (ExpressJS)
Dá»±a trÃªn thiáº¿t káº¿ cÆ¡ sá»Ÿ dá»¯ liá»‡u vÃ  cÃ¡c chá»©c nÄƒng cá»§a há»‡ thá»‘ng, Ä‘Ã¢y lÃ  danh sÃ¡ch cÃ¡c API endpoint cáº§n triá»ƒn khai, Ä‘Æ°á»£c phÃ¢n nhÃ³m theo cÃ¡c tÃ i nguyÃªn chÃ­nh.
LÆ°u Ã½: CÃ¡c endpoint nÃ y tuÃ¢n theo nguyÃªn táº¯c RESTful API cÆ¡ báº£n. Cáº§n bá»• sung cÃ¡c cÆ¡ cháº¿ xÃ¡c thá»±c vÃ  phÃ¢n quyá»n cho tá»«ng endpoint.
ğŸ” API liÃªn quan Ä‘áº¿n NgÆ°á»i dÃ¹ng (Users, Roles, UserStatuses, UserRoles)
POST /users/register
Má»¥c Ä‘Ã­ch: ÄÄƒng kÃ½ tÃ i khoáº£n ngÆ°á»i dÃ¹ng má»›i (UC01).
Body: ThÃ´ng tin ngÆ°á»i dÃ¹ng (username, password, email, full_name, phone_number, address).
Pháº£n há»“i: ThÃ´ng tin ngÆ°á»i dÃ¹ng Ä‘Ã£ táº¡o (cÃ³ thá»ƒ bá» qua máº­t kháº©u hash).
POST /users/login
Má»¥c Ä‘Ã­ch: ÄÄƒng nháº­p ngÆ°á»i dÃ¹ng (UC01).
Body: ThÃ´ng tin Ä‘Äƒng nháº­p (username, password).
Pháº£n há»“i: Token xÃ¡c thá»±c vÃ  thÃ´ng tin ngÆ°á»i dÃ¹ng cÆ¡ báº£n.
POST /users/logout
Má»¥c Ä‘Ã­ch: ÄÄƒng xuáº¥t ngÆ°á»i dÃ¹ng (UC01).
Header: Token xÃ¡c thá»±c.
GET /users/me
Má»¥c Ä‘Ã­ch: Láº¥y thÃ´ng tin cá»§a ngÆ°á»i dÃ¹ng Ä‘ang Ä‘Äƒng nháº­p (UC02).
Header: Token xÃ¡c thá»±c.
Pháº£n há»“i: ThÃ´ng tin chi tiáº¿t ngÆ°á»i dÃ¹ng.
PUT /users/me
Má»¥c Ä‘Ã­ch: Cáº­p nháº­t thÃ´ng tin cÃ¡ nhÃ¢n cá»§a ngÆ°á»i dÃ¹ng Ä‘ang Ä‘Äƒng nháº­p (UC02).
Header: Token xÃ¡c thá»±c.
Body: ThÃ´ng tin cáº§n cáº­p nháº­t (email, full_name, phone_number, address,...).
Pháº£n há»“i: ThÃ´ng tin ngÆ°á»i dÃ¹ng sau khi cáº­p nháº­t.
GET /users
Má»¥c Ä‘Ã­ch: Láº¥y danh sÃ¡ch táº¥t cáº£ ngÆ°á»i dÃ¹ng (chá»‰ Admin) (UC04).
Header: Token xÃ¡c thá»±c (Admin).
Query Params: Bá»™ lá»c (role, status), phÃ¢n trang, sáº¯p xáº¿p.
Pháº£n há»“i: Danh sÃ¡ch ngÆ°á»i dÃ¹ng.
GET /users/{user_id}
Má»¥c Ä‘Ã­ch: Láº¥y thÃ´ng tin chi tiáº¿t cá»§a má»™t ngÆ°á»i dÃ¹ng cá»¥ thá»ƒ (chá»‰ Admin hoáº·c ngÆ°á»i dÃ¹ng Ä‘Ã³) (UC04).
Header: Token xÃ¡c thá»±c (Admin hoáº·c ngÆ°á»i dÃ¹ng Ä‘Ã³).
Pháº£n há»“i: ThÃ´ng tin chi tiáº¿t ngÆ°á»i dÃ¹ng.
PUT /users/{user_id}
Má»¥c Ä‘Ã­ch: Cáº­p nháº­t thÃ´ng tin vÃ  phÃ¢n quyá»n/tráº¡ng thÃ¡i cá»§a ngÆ°á»i dÃ¹ng (chá»‰ Admin) (UC60).
Header: Token xÃ¡c thá»±c (Admin).
Body: ThÃ´ng tin cáº§n cáº­p nháº­t (full_name, email, phone_number, address, role_id, status_id,...).
Pháº£n há»“i: ThÃ´ng tin ngÆ°á»i dÃ¹ng sau khi cáº­p nháº­t.
DELETE /users/{user_id}
Má»¥c Ä‘Ã­ch: XÃ³a ngÆ°á»i dÃ¹ng (chá»‰ Admin) (UC60).
Header: Token xÃ¡c thá»±c (Admin).
Pháº£n há»“i: Tráº¡ng thÃ¡i xÃ³a thÃ nh cÃ´ng/tháº¥t báº¡i.
GET /roles
Má»¥c Ä‘Ã­ch: Láº¥y danh sÃ¡ch cÃ¡c vai trÃ² (cho Admin quáº£n lÃ½ hoáº·c hiá»ƒn thá»‹) (UC61).
Header: Token xÃ¡c thá»±c (Admin hoáº·c CTV).
Pháº£n há»“i: Danh sÃ¡ch vai trÃ².
GET /user-statuses
Má»¥c Ä‘Ã­ch: Láº¥y danh sÃ¡ch cÃ¡c tráº¡ng thÃ¡i ngÆ°á»i dÃ¹ng (cho Admin quáº£n lÃ½) (UC61).
Header: Token xÃ¡c thá»±c (Admin).
Pháº£n há»“i: Danh sÃ¡ch tráº¡ng thÃ¡i ngÆ°á»i dÃ¹ng.
ğŸ“š API liÃªn quan Ä‘áº¿n SÃ¡ch (Books, Genres, Languages, Publishers, Tags, BookTags, BookLocations, Copies, BookReviews, ReviewCriteria, ReviewScores, BookSuggestions, SuggestionStatuses)
GET /books
Má»¥c Ä‘Ã­ch: TÃ¬m kiáº¿m vÃ  láº¥y danh sÃ¡ch sÃ¡ch (UC13).
Query Params: Tá»« khÃ³a (q), bá»™ lá»c (genre_id, language_id, publisher_id, tag_id, available_only=true/false), phÃ¢n trang, sáº¯p xáº¿p (theo tiÃªu Ä‘á», tÃ¡c giáº£, nÄƒm xuáº¥t báº£n, Ä‘iá»ƒm Ä‘Ã¡nh giÃ¡...).
Pháº£n há»“i: Danh sÃ¡ch sÃ¡ch.
GET /books/{book_id}
Má»¥c Ä‘Ã­ch: Láº¥y thÃ´ng tin chi tiáº¿t cá»§a má»™t Ä‘áº§u sÃ¡ch, bao gá»“m danh sÃ¡ch báº£n sao vÃ  Ä‘Ã¡nh giÃ¡ (UC14).
Pháº£n há»“i: ThÃ´ng tin chi tiáº¿t sÃ¡ch, danh sÃ¡ch copy_id liÃªn quan vÃ  tráº¡ng thÃ¡i, Ä‘Ã¡nh giÃ¡ trung bÃ¬nh.
POST /books
Má»¥c Ä‘Ã­ch: ThÃªm sÃ¡ch má»›i (chá»‰ CTV/Admin) (UC10).
Header: Token xÃ¡c thá»±c (CTV/Admin).
Body: ThÃ´ng tin sÃ¡ch (title, author, publisher_id, publication_year, isbn, genre_id, language_id, description, cover_image_url, sá»‘ lÆ°á»£ng báº£n sao ban Ä‘áº§u, tag_ids...).
Pháº£n há»“i: ThÃ´ng tin sÃ¡ch Ä‘Ã£ táº¡o.
PUT /books/{book_id}
Má»¥c Ä‘Ã­ch: Cáº­p nháº­t thÃ´ng tin sÃ¡ch (chá»‰ CTV/Admin) (UC10).
Header: Token xÃ¡c thá»±c (CTV/Admin).
Body: ThÃ´ng tin sÃ¡ch cáº§n cáº­p nháº­t.
Pháº£n há»“i: ThÃ´ng tin sÃ¡ch sau khi cáº­p nháº­t.
DELETE /books/{book_id}
Má»¥c Ä‘Ã­ch: XÃ³a sÃ¡ch (chá»‰ CTV/Admin) (UC10).
Header: Token xÃ¡c thá»±c (CTV/Admin).
Pháº£n há»“i: Tráº¡ng thÃ¡i xÃ³a.
GET /genres
Má»¥c Ä‘Ã­ch: Láº¥y danh sÃ¡ch thá»ƒ loáº¡i sÃ¡ch (UC61).
Pháº£n há»“i: Danh sÃ¡ch thá»ƒ loáº¡i.
POST /genres
Má»¥c Ä‘Ã­ch: ThÃªm thá»ƒ loáº¡i má»›i (chá»‰ Admin) (UC61).
Header: Token xÃ¡c thá»±c (Admin).
Body: ThÃ´ng tin thá»ƒ loáº¡i (genre_name, description).
PUT /genres/{genre_id}
Má»¥c Ä‘Ã­ch: Sá»­a thá»ƒ loáº¡i (chá»‰ Admin) (UC61).
Header: Token xÃ¡c thá»±c (Admin).
Body: ThÃ´ng tin cáº§n cáº­p nháº­t.
DELETE /genres/{genre_id}
Má»¥c Ä‘Ã­ch: XÃ³a thá»ƒ loáº¡i (chá»‰ Admin) (UC61).
Header: Token xÃ¡c thá»±c (Admin).
GET /languages
Má»¥c Ä‘Ã­ch: Láº¥y danh sÃ¡ch ngÃ´n ngá»¯ (UC61).
Pháº£n há»“i: Danh sÃ¡ch ngÃ´n ngá»¯.
POST /languages
Má»¥c Ä‘Ã­ch: ThÃªm ngÃ´n ngá»¯ má»›i (chá»‰ Admin) (UC61).
Header: Token xÃ¡c thá»±c (Admin).
Body: ThÃ´ng tin ngÃ´n ngá»¯ (language_name).
PUT /languages/{language_id}
Má»¥c Ä‘Ã­ch: Sá»­a ngÃ´n ngá»¯ (chá»‰ Admin) (UC61).
Header: Token xÃ¡c thá»±c (Admin).
Body: ThÃ´ng tin cáº§n cáº­p nháº­t.
DELETE /languages/{language_id}
Má»¥c Ä‘Ã­ch: XÃ³a ngÃ´n ngá»¯ (chá»‰ Admin) (UC61).
Header: Token xÃ¡c thá»±c (Admin).
GET /publishers
Má»¥c Ä‘Ã­ch: Láº¥y danh sÃ¡ch nhÃ  xuáº¥t báº£n (UC61).
Pháº£n há»“i: Danh sÃ¡ch nhÃ  xuáº¥t báº£n.
POST /publishers
Má»¥c Ä‘Ã­ch: ThÃªm nhÃ  xuáº¥t báº£n má»›i (chá»‰ Admin) (UC61).
Header: Token xÃ¡c thá»±c (Admin).
Body: ThÃ´ng tin nhÃ  xuáº¥t báº£n.
PUT /publishers/{publisher_id}
Má»¥c Ä‘Ã­ch: Sá»­a nhÃ  xuáº¥t báº£n (chá»‰ Admin) (UC61).
Header: Token xÃ¡c thá»±c (Admin).
Body: ThÃ´ng tin cáº§n cáº­p nháº­t.
DELETE /publishers/{publisher_id}
Má»¥c Ä‘Ã­ch: XÃ³a nhÃ  xuáº¥t báº£n (chá»‰ Admin) (UC61).
Header: Token xÃ¡c thá»±c (Admin).
GET /tags
Má»¥c Ä‘Ã­ch: Láº¥y danh sÃ¡ch tags (UC61).
Pháº£n há»“i: Danh sÃ¡ch tags.
POST /tags
Má»¥c Ä‘Ã­ch: ThÃªm tag má»›i (chá»‰ Admin) (UC61).
Header: Token xÃ¡c thá»±c (Admin).
Body: ThÃ´ng tin tag (tag_name).
PUT /tags/{tag_id}
Má»¥c Ä‘Ã­ch: Sá»­a tag (chá»‰ Admin) (UC61).
Header: Token xÃ¡c thá»±c (Admin).
Body: ThÃ´ng tin cáº§n cáº­p nháº­t.
DELETE /tags/{tag_id}
Má»¥c Ä‘Ã­ch: XÃ³a tag (chá»‰ Admin) (UC61).
Header: Token xÃ¡c thá»±c (Admin).
GET /book-locations
Má»¥c Ä‘Ã­ch: Láº¥y danh sÃ¡ch vá»‹ trÃ­ sÃ¡ch (UC12, UC61).
Pháº£n há»“i: Danh sÃ¡ch vá»‹ trÃ­.
POST /book-locations
Má»¥c Ä‘Ã­ch: ThÃªm vá»‹ trÃ­ sÃ¡ch má»›i (chá»‰ CTV/Admin) (UC12, UC61).
Header: Token xÃ¡c thá»±c (CTV/Admin).
Body: ThÃ´ng tin vá»‹ trÃ­ (shelf_number, row_number, level_number, description).
PUT /book-locations/{location_id}
Má»¥c Ä‘Ã­ch: Sá»­a vá»‹ trÃ­ sÃ¡ch (chá»‰ CTV/Admin) (UC12, UC61).
Header: Token xÃ¡c thá»±c (CTV/Admin).
Body: ThÃ´ng tin cáº§n cáº­p nháº­t.
DELETE /book-locations/{location_id}
Má»¥c Ä‘Ã­ch: XÃ³a vá»‹ trÃ­ sÃ¡ch (chá»‰ CTV/Admin) (UC12, UC61).
Header: Token xÃ¡c thá»±c (CTV/Admin).
GET /copies
Má»¥c Ä‘Ã­ch: Láº¥y danh sÃ¡ch báº£n sao sÃ¡ch (UC11, UC14).
Query Params: Bá»™ lá»c (book_id, status_id, location_id, barcode), phÃ¢n trang, sáº¯p xáº¿p.
Pháº£n há»“i: Danh sÃ¡ch báº£n sao.
POST /copies
Má»¥c Ä‘Ã­ch: ThÃªm báº£n sao sÃ¡ch má»›i (chá»‰ CTV/Admin) (Má»Ÿ rá»™ng UC10).
Header: Token xÃ¡c thá»±c (CTV/Admin).
Body: ThÃ´ng tin báº£n sao (book_id, location_id, status_id, barcode).
Pháº£n há»“i: ThÃ´ng tin báº£n sao Ä‘Ã£ táº¡o.
PUT /copies/{copy_id}
Má»¥c Ä‘Ã­ch: Cáº­p nháº­t thÃ´ng tin báº£n sao (vá»‹ trÃ­, tráº¡ng thÃ¡i) (chá»‰ CTV/Admin) (UC12, UC18).
Header: Token xÃ¡c thá»±c (CTV/Admin).
Body: ThÃ´ng tin cáº§n cáº­p nháº­t (location_id, status_id, barcode).
Pháº£n há»“i: ThÃ´ng tin báº£n sao sau khi cáº­p nháº­t.
DELETE /copies/{copy_id}
Má»¥c Ä‘Ã­ch: XÃ³a báº£n sao sÃ¡ch (chá»‰ CTV/Admin) (Má»Ÿ rá»™ng UC10).
Header: Token xÃ¡c thá»±c (CTV/Admin).
Pháº£n há»“i: Tráº¡ng thÃ¡i xÃ³a.
POST /books/{book_id}/reviews
Má»¥c Ä‘Ã­ch: Gá»­i Ä‘Ã¡nh giÃ¡ vÃ  nháº­n xÃ©t cho sÃ¡ch (chá»‰ Äá»™c giáº£) (UC15).
Header: Token xÃ¡c thá»±c (Äá»™c giáº£).
Body: ThÃ´ng tin Ä‘Ã¡nh giÃ¡ (rating, comment, Ä‘iá»ƒm theo tiÃªu chÃ­).
Pháº£n há»“i: ThÃ´ng tin Ä‘Ã¡nh giÃ¡ Ä‘Ã£ táº¡o.
GET /books/{book_id}/reviews
Má»¥c Ä‘Ã­ch: Láº¥y danh sÃ¡ch Ä‘Ã¡nh giÃ¡ vÃ  nháº­n xÃ©t cá»§a má»™t sÃ¡ch (UC15).
Query Params: PhÃ¢n trang, sáº¯p xáº¿p.
Pháº£n há»“i: Danh sÃ¡ch Ä‘Ã¡nh giÃ¡.
GET /review-criteria
Má»¥c Ä‘Ã­ch: Láº¥y danh sÃ¡ch cÃ¡c tiÃªu chÃ­ Ä‘Ã¡nh giÃ¡ (UC61).
Pháº£n há»“i: Danh sÃ¡ch tiÃªu chÃ­.
POST /book-suggestions
Má»¥c Ä‘Ã­ch: Gá»­i Ä‘á» xuáº¥t sÃ¡ch má»›i (chá»‰ Äá»™c giáº£) (UC16).
Header: Token xÃ¡c thá»±c (Äá»™c giáº£).
Body: ThÃ´ng tin Ä‘á» xuáº¥t (suggested_title, suggested_author, suggested_publisher, suggestion_notes).
Pháº£n há»“i: ThÃ´ng tin Ä‘á» xuáº¥t Ä‘Ã£ táº¡o.
GET /book-suggestions
Má»¥c Ä‘Ã­ch: Láº¥y danh sÃ¡ch Ä‘á» xuáº¥t sÃ¡ch (chá»‰ Admin/CTV) (UC64).
Header: Token xÃ¡c thá»±c (Admin/CTV).
Query Params: Bá»™ lá»c (status), phÃ¢n trang, sáº¯p xáº¿p.
Pháº£n há»“i: Danh sÃ¡ch Ä‘á» xuáº¥t.
PUT /book-suggestions/{suggestion_id}
Má»¥c Ä‘Ã­ch: Cáº­p nháº­t tráº¡ng thÃ¡i xá»­ lÃ½ Ä‘á» xuáº¥t sÃ¡ch (chá»‰ Admin/CTV) (UC64).
Header: Token xÃ¡c thá»±c (Admin/CTV).
Body: ThÃ´ng tin cáº­p nháº­t (status_id, handling_notes).
Pháº£n há»“i: ThÃ´ng tin Ä‘á» xuáº¥t sau khi cáº­p nháº­t.
ğŸ“… API liÃªn quan Ä‘áº¿n MÆ°á»£n - Tráº£ & Äáº·t trÆ°á»›c (Borrowings, BorrowingStatuses, Reservations, ReservationStatuses)
POST /borrowings
Má»¥c Ä‘Ã­ch: XÃ¡c nháº­n mÆ°á»£n sÃ¡ch (chá»‰ CTV/Admin) (UC21).
Header: Token xÃ¡c thá»±c (CTV/Admin).
Body: ThÃ´ng tin mÆ°á»£n (user_id, copy_id).
Pháº£n há»“i: ThÃ´ng tin lÆ°á»£t mÆ°á»£n Ä‘Ã£ táº¡o.
PUT /borrowings/{borrow_id}/return
Má»¥c Ä‘Ã­ch: XÃ¡c nháº­n tráº£ sÃ¡ch (chá»‰ CTV/Admin) (UC21).
Header: Token xÃ¡c thá»±c (CTV/Admin).
Path Params: borrow_id cá»§a lÆ°á»£t mÆ°á»£n.
Body: (TÃ¹y chá»n) Ghi chÃº tráº£ sÃ¡ch.
Pháº£n há»“i: ThÃ´ng tin lÆ°á»£t mÆ°á»£n sau khi tráº£, bao gá»“m phÃ­ pháº¡t (náº¿u cÃ³).
POST /borrowings/bulk-borrow
Má»¥c Ä‘Ã­ch: MÆ°á»£n nhiá»u sÃ¡ch cÃ¹ng lÃºc (chá»‰ CTV/Admin) (UC26).
Header: Token xÃ¡c thá»±c (CTV/Admin).
Body: ThÃ´ng tin mÆ°á»£n hÃ ng loáº¡t (user_id, danh sÃ¡ch copy_id).
Pháº£n há»“i: Káº¿t quáº£ xá»­ lÃ½ cho tá»«ng báº£n sao.
POST /borrowings/bulk-return
Má»¥c Ä‘Ã­ch: Tráº£ nhiá»u sÃ¡ch cÃ¹ng lÃºc (chá»‰ CTV/Admin) (UC26).
Header: Token xÃ¡c thá»±c (CTV/Admin).
Body: Danh sÃ¡ch copy_id cáº§n tráº£.
Pháº£n há»“i: Káº¿t quáº£ xá»­ lÃ½ cho tá»«ng báº£n sao vÃ  tá»•ng phÃ­ pháº¡t.
GET /borrowings
Má»¥c Ä‘Ã­ch: Láº¥y danh sÃ¡ch cÃ¡c lÆ°á»£t mÆ°á»£n (chá»‰ Admin/CTV xem táº¥t cáº£, Äá»™c giáº£ xem cá»§a mÃ¬nh) (UC24).
Header: Token xÃ¡c thá»±c.
Query Params: Bá»™ lá»c (user_id, copy_id, status_id, ngÃ y mÆ°á»£n/tráº£/háº¡n), phÃ¢n trang, sáº¯p xáº¿p.
Pháº£n há»“i: Danh sÃ¡ch lÆ°á»£t mÆ°á»£n.
GET /borrowings/{borrow_id}
Má»¥c Ä‘Ã­ch: Láº¥y thÃ´ng tin chi tiáº¿t má»™t lÆ°á»£t mÆ°á»£n (UC24).
Header: Token xÃ¡c thá»±c.
Pháº£n há»“i: ThÃ´ng tin chi tiáº¿t lÆ°á»£t mÆ°á»£n.
POST /reservations
Má»¥c Ä‘Ã­ch: Äáº·t mÆ°á»£n sÃ¡ch trÆ°á»›c (chá»‰ Äá»™c giáº£) (UC20).
Header: Token xÃ¡c thá»±c (Äá»™c giáº£).
Body: ThÃ´ng tin Ä‘áº·t trÆ°á»›c (book_id).
Pháº£n há»“i: ThÃ´ng tin lÆ°á»£t Ä‘áº·t trÆ°á»›c Ä‘Ã£ táº¡o.
PUT /reservations/{reservation_id}/cancel
Má»¥c Ä‘Ã­ch: Há»§y lÆ°á»£t Ä‘áº·t trÆ°á»›c (chá»‰ Äá»™c giáº£ hoáº·c CTV/Admin) (UC25).
Header: Token xÃ¡c thá»±c.
Pháº£n há»“i: ThÃ´ng tin lÆ°á»£t Ä‘áº·t trÆ°á»›c sau khi há»§y.
PUT /reservations/{reservation_id}/assign-copy
Má»¥c Ä‘Ã­ch: GÃ¡n báº£n sao sÃ¡ch cho lÆ°á»£t Ä‘áº·t trÆ°á»›c (chá»‰ CTV/Admin) (Má»Ÿ rá»™ng UC20).
Header: Token xÃ¡c thá»±c (CTV/Admin).
Body: ThÃ´ng tin gÃ¡n (copy_id).
Pháº£n há»“i: ThÃ´ng tin lÆ°á»£t Ä‘áº·t trÆ°á»›c sau khi gÃ¡n.
GET /reservations
Má»¥c Ä‘Ã­ch: Láº¥y danh sÃ¡ch cÃ¡c lÆ°á»£t Ä‘áº·t trÆ°á»›c (chá»‰ Admin/CTV xem táº¥t cáº£, Äá»™c giáº£ xem cá»§a mÃ¬nh) (UC20).
Header: Token xÃ¡c thá»±c.
Query Params: Bá»™ lá»c (user_id, book_id, status_id, ngÃ y Ä‘áº·t/háº¿t háº¡n), phÃ¢n trang, sáº¯p xáº¿p.
Pháº£n há»“i: Danh sÃ¡ch lÆ°á»£t Ä‘áº·t trÆ°á»›c.
GET /reservations/{reservation_id}
Má»¥c Ä‘Ã­ch: Láº¥y thÃ´ng tin chi tiáº¿t má»™t lÆ°á»£t Ä‘áº·t trÆ°á»›c (UC20).
Header: Token xÃ¡c thá»±c.
Pháº£n há»“i: ThÃ´ng tin chi tiáº¿t lÆ°á»£t Ä‘áº·t trÆ°á»›c.
GET /borrowing-statuses
Má»¥c Ä‘Ã­ch: Láº¥y danh sÃ¡ch tráº¡ng thÃ¡i mÆ°á»£n (UC61).
Pháº£n há»“i: Danh sÃ¡ch tráº¡ng thÃ¡i.
GET /reservation-statuses
Má»¥c Ä‘Ã­ch: Láº¥y danh sÃ¡ch tráº¡ng thÃ¡i Ä‘áº·t trÆ°á»›c (UC61).
Pháº£n há»“i: Danh sÃ¡ch tráº¡ng thÃ¡i.
ğŸ§‘â€ğŸ¤â€ğŸ§‘ API liÃªn quan Ä‘áº¿n Cá»™ng tÃ¡c viÃªn & Lá»‹ch trá»±c (Schedules, ShiftTypes, ScheduleStatuses)
POST /schedules
Má»¥c Ä‘Ã­ch: Cá»™ng tÃ¡c viÃªn Ä‘Äƒng kÃ½ lá»‹ch trá»±c (UC30).
Header: Token xÃ¡c thá»±c (CTV).
Body: ThÃ´ng tin Ä‘Äƒng kÃ½ (shift_date, shift_type_id).
Pháº£n há»“i: ThÃ´ng tin lá»‹ch trá»±c Ä‘Ã£ táº¡o.
GET /schedules
Má»¥c Ä‘Ã­ch: Láº¥y danh sÃ¡ch lá»‹ch trá»±c (CTV xem cá»§a mÃ¬nh, Admin xem táº¥t cáº£) (UC30, UC34).
Header: Token xÃ¡c thá»±c.
Query Params: Bá»™ lá»c (user_id, status_id, khoáº£ng ngÃ y), phÃ¢n trang, sáº¯p xáº¿p.
Pháº£n há»“i: Danh sÃ¡ch lá»‹ch trá»±c.
PUT /schedules/{schedule_id}/approve
Má»¥c Ä‘Ã­ch: Admin duyá»‡t lá»‹ch trá»±c (chá»‰ Admin) (UC31).
Header: Token xÃ¡c thá»±c (Admin).
Pháº£n há»“i: ThÃ´ng tin lá»‹ch trá»±c sau khi duyá»‡t.
PUT /schedules/{schedule_id}/reject
Má»¥c Ä‘Ã­ch: Admin tá»« chá»‘i lá»‹ch trá»±c (chá»‰ Admin) (UC31).
Header: Token xÃ¡c thá»±c (Admin).
Body: (TÃ¹y chá»n) LÃ½ do tá»« chá»‘i.
Pháº£n há»“i: ThÃ´ng tin lá»‹ch trá»±c sau khi tá»« chá»‘i.
POST /schedules/assign
Má»¥c Ä‘Ã­ch: Admin chá»‰ Ä‘á»‹nh lá»‹ch trá»±c cho CTV (chá»‰ Admin) (UC31).
Header: Token xÃ¡c thá»±c (Admin).
Body: ThÃ´ng tin chá»‰ Ä‘á»‹nh (user_id, shift_date, shift_type_id).
Pháº£n há»“i: ThÃ´ng tin lá»‹ch trá»±c Ä‘Ã£ táº¡o (tráº¡ng thÃ¡i 'Approved').
PUT /schedules/{schedule_id}
Má»¥c Ä‘Ã­ch: Admin sá»­a lá»‹ch trá»±c (chá»‰ Admin) (UC31).
Header: Token xÃ¡c thá»±c (Admin).
Body: ThÃ´ng tin cáº§n cáº­p nháº­t (shift_date, shift_type_id, status_id, notes).
Pháº£n há»“i: ThÃ´ng tin lá»‹ch trá»±c sau khi cáº­p nháº­t.
DELETE /schedules/{schedule_id}
Má»¥c Ä‘Ã­ch: Admin xÃ³a lá»‹ch trá»±c (chá»‰ Admin) (UC31).
Header: Token xÃ¡c thá»±c (Admin).
Pháº£n há»“i: Tráº¡ng thÃ¡i xÃ³a.
GET /shift-types
Má»¥c Ä‘Ã­ch: Láº¥y danh sÃ¡ch cÃ¡c loáº¡i ca trá»±c (UC61).
Pháº£n há»“i: Danh sÃ¡ch loáº¡i ca trá»±c.
GET /schedule-statuses
Má»¥c Ä‘Ã­ch: Láº¥y danh sÃ¡ch tráº¡ng thÃ¡i lá»‹ch trá»±c (UC61).
Pháº£n há»“i: Danh sÃ¡ch tráº¡ng thÃ¡i lá»‹ch trá»±c.
GET /library/open-hours
Má»¥c Ä‘Ã­ch: Láº¥y giá» má»Ÿ cá»­a dá»±a trÃªn lá»‹ch trá»±c Ä‘Ã£ duyá»‡t (UC32).
Query Params: Khoáº£ng ngÃ y (vÃ­ dá»¥: start_date, end_date).
Pháº£n há»“i: Dá»¯ liá»‡u vá» giá» má»Ÿ cá»­a theo ngÃ y.
ğŸ“Š API liÃªn quan Ä‘áº¿n Thá»‘ng kÃª & BÃ¡o cÃ¡o (Borrowings, Reservations, Schedules, BookReviews, ActivityLogs, BookHistory, SearchLogs)
GET /reports/book-stats
Má»¥c Ä‘Ã­ch: Thá»‘ng kÃª sá»‘ sÃ¡ch theo thá»ƒ loáº¡i, sá»‘ sÃ¡ch Ä‘ang mÆ°á»£n/Ä‘áº·t trÆ°á»›c (UC40).
Header: Token xÃ¡c thá»±c (Admin/CTV).
Query Params: Loáº¡i thá»‘ng kÃª (theo thá»ƒ loáº¡i, tráº¡ng thÃ¡i mÆ°á»£n/Ä‘áº·t).
Pháº£n há»“i: Dá»¯ liá»‡u thá»‘ng kÃª.
GET /reports/top-books
Má»¥c Ä‘Ã­ch: Top sÃ¡ch Ä‘Æ°á»£c quan tÃ¢m/mÆ°á»£n nhiá»u (UC41).
Header: Token xÃ¡c thá»±c (Admin/CTV).
Query Params: TiÃªu chÃ­ (mÆ°á»£n nhiá»u, Ä‘áº·t nhiá»u, Ä‘Ã¡nh giÃ¡ cao), giá»›i háº¡n sá»‘ lÆ°á»£ng (top N).
Pháº£n há»“i: Danh sÃ¡ch sÃ¡ch phá»• biáº¿n.
GET /reports/user-borrowing-stats
Má»¥c Ä‘Ã­ch: Thá»‘ng kÃª hoáº¡t Ä‘á»™ng mÆ°á»£n cá»§a báº¡n Ä‘á»c (UC42).
Header: Token xÃ¡c thá»±c (Admin/CTV).
Query Params: Bá»™ lá»c (user_id, khoáº£ng thá»i gian), phÃ¢n trang, sáº¯p xáº¿p.
Pháº£n há»“i: Danh sÃ¡ch Ä‘á»™c giáº£ kÃ¨m sá»‘ liá»‡u mÆ°á»£n tráº£.
GET /reports/ctv-schedule-history
Má»¥c Ä‘Ã­ch: Lá»‹ch sá»­ trá»±c cá»§a cá»™ng tÃ¡c viÃªn (UC43).
Header: Token xÃ¡c thá»±c (Admin/CTV).
Query Params: Bá»™ lá»c (user_id, khoáº£ng thá»i gian, status), phÃ¢n trang, sáº¯p xáº¿p.
Pháº£n há»“i: Danh sÃ¡ch lá»‹ch trá»±c trong quÃ¡ khá»©.
GET /reports/export
Má»¥c Ä‘Ã­ch: Xuáº¥t bÃ¡o cÃ¡o thá»‘ng kÃª (UC44).
Header: Token xÃ¡c thá»±c (Admin/CTV).
Query Params: Loáº¡i bÃ¡o cÃ¡o, bá»™ lá»c, Ä‘á»‹nh dáº¡ng (csv, pdf).
Pháº£n há»“i: Tá»‡p bÃ¡o cÃ¡o.
GET /dashboard/summary
Má»¥c Ä‘Ã­ch: Dá»¯ liá»‡u tá»•ng quan cho Dashboard Admin/CTV (UC63).
Header: Token xÃ¡c thá»±c (Admin/CTV).
Pháº£n há»“i: CÃ¡c chá»‰ sá»‘ tá»•ng há»£p (sá»‘ sÃ¡ch Ä‘ang mÆ°á»£n, Ä‘áº·t trÆ°á»›c chá» xá»­ lÃ½, Ä‘á» xuáº¥t má»›i...).
GET /activity-logs
Má»¥c Ä‘Ã­ch: Xem lá»‹ch sá»­ hoáº¡t Ä‘á»™ng (chá»‰ Admin) (Má»Ÿ rá»™ng tá»« Dashboard/BÃ¡o cÃ¡o).
Header: Token xÃ¡c thá»±c (Admin).
Query Params: Bá»™ lá»c (user_id, action_type, khoáº£ng thá»i gian), phÃ¢n trang.
Pháº£n há»“i: Danh sÃ¡ch log hoáº¡t Ä‘á»™ng.
GET /audit-logs
Má»¥c Ä‘Ã­ch: Xem lá»‹ch sá»­ thay Ä‘á»•i dá»¯ liá»‡u quan trá»ng (chá»‰ Admin) (Má»Ÿ rá»™ng tá»« Dashboard/BÃ¡o cÃ¡o).
Header: Token xÃ¡c thá»±c (Admin).
Query Params: Bá»™ lá»c (user_id, table, record_id, action_type, khoáº£ng thá»i gian), phÃ¢n trang.
Pháº£n há»“i: Danh sÃ¡ch log audit.
GET /copies/{copy_id}/history
Má»¥c Ä‘Ã­ch: Xem lá»‹ch sá»­ chi tiáº¿t cá»§a má»™t báº£n sao sÃ¡ch (UC24, má»Ÿ rá»™ng).
Header: Token xÃ¡c thá»±c (Admin/CTV).
Pháº£n há»“i: Danh sÃ¡ch cÃ¡c sá»± kiá»‡n lá»‹ch sá»­ cá»§a báº£n sao Ä‘Ã³.
GET /search-logs
Má»¥c Ä‘Ã­ch: Xem lá»‹ch sá»­ tÃ¬m kiáº¿m (chá»‰ Admin) (Má»Ÿ rá»™ng tá»« BÃ¡o cÃ¡o).
Header: Token xÃ¡c thá»±c (Admin).
Query Params: Bá»™ lá»c (user_id, query, khoáº£ng thá»i gian), phÃ¢n trang.
Pháº£n há»“i: Danh sÃ¡ch log tÃ¬m kiáº¿m.
ğŸ”” API liÃªn quan Ä‘áº¿n ThÃ´ng bÃ¡o & Nháº¯c nhá»Ÿ (Notifications, NotificationTypes, NotificationStatuses)
GET /notifications/me
Má»¥c Ä‘Ã­ch: Láº¥y danh sÃ¡ch thÃ´ng bÃ¡o cá»§a ngÆ°á»i dÃ¹ng Ä‘ang Ä‘Äƒng nháº­p.
Header: Token xÃ¡c thá»±c.
Query Params: Bá»™ lá»c (status: read/unread), phÃ¢n trang.
Pháº£n há»“i: Danh sÃ¡ch thÃ´ng bÃ¡o cá»§a ngÆ°á»i dÃ¹ng.
PUT /notifications/{notification_id}/mark-as-read
Má»¥c Ä‘Ã­ch: ÄÃ¡nh dáº¥u thÃ´ng bÃ¡o lÃ  Ä‘Ã£ Ä‘á»c.
Header: Token xÃ¡c thá»±c.
Pháº£n há»“i: ThÃ´ng tin thÃ´ng bÃ¡o sau khi cáº­p nháº­t.
GET /notification-types
Má»¥c Ä‘Ã­ch: Láº¥y danh sÃ¡ch cÃ¡c loáº¡i thÃ´ng bÃ¡o (UC61).
Header: Token xÃ¡c thá»±c (Admin).
Pháº£n há»“i: Danh sÃ¡ch loáº¡i thÃ´ng bÃ¡o.
GET /notification-statuses
Má»¥c Ä‘Ã­ch: Láº¥y danh sÃ¡ch tráº¡ng thÃ¡i thÃ´ng bÃ¡o (UC61).
Header: Token xÃ¡c thá»±c (Admin).
Pháº£n há»“i: Danh sÃ¡ch tráº¡ng thÃ¡i thÃ´ng bÃ¡o.
âš™ï¸ API liÃªn quan Ä‘áº¿n Chá»©c nÄƒng quáº£n trá»‹ há»‡ thá»‘ng (SystemConfig, PenaltyRules, ReviewCriteria, ActionTypes, NotificationTypes, NotificationStatuses, ...)
GET /system-config
Má»¥c Ä‘Ã­ch: Láº¥y táº¥t cáº£ cáº¥u hÃ¬nh há»‡ thá»‘ng (chá»‰ Admin) (UC62).
Header: Token xÃ¡c thá»±c (Admin).
Pháº£n há»“i: Danh sÃ¡ch cáº¥u hÃ¬nh key-value.
PUT /system-config
Má»¥c Ä‘Ã­ch: Cáº­p nháº­t cáº¥u hÃ¬nh há»‡ thá»‘ng (chá»‰ Admin) (UC62).
Header: Token xÃ¡c thá»±c (Admin).
Body: Danh sÃ¡ch cÃ¡c cáº¥u hÃ¬nh cáº§n cáº­p nháº­t.
Pháº£n há»“i: Tráº¡ng thÃ¡i cáº­p nháº­t.
GET /penalty-rules
Má»¥c Ä‘Ã­ch: Láº¥y danh sÃ¡ch quy táº¯c pháº¡t (chá»‰ Admin) (UC61).
Header: Token xÃ¡c thá»±c (Admin).
Pháº£n há»“i: Danh sÃ¡ch quy táº¯c pháº¡t.
POST /penalty-rules
Má»¥c Ä‘Ã­ch: ThÃªm quy táº¯c pháº¡t má»›i (chá»‰ Admin) (UC61).
Header: Token xÃ¡c thá»±c (Admin).
Body: ThÃ´ng tin quy táº¯c pháº¡t.
PUT /penalty-rules/{rule_id}
Má»¥c Ä‘Ã­ch: Sá»­a quy táº¯c pháº¡t (chá»‰ Admin) (UC61).
Header: Token xÃ¡c thá»±c (Admin).
Body: ThÃ´ng tin cáº§n cáº­p nháº­t.
DELETE /penalty-rules/{rule_id}
Má»¥c Ä‘Ã­ch: XÃ³a quy táº¯c pháº¡t (chá»‰ Admin) (UC61).
Header: Token xÃ¡c thá»±c (Admin).
GET /review-criteria
Má»¥c Ä‘Ã­ch: Láº¥y danh sÃ¡ch tiÃªu chÃ­ Ä‘Ã¡nh giÃ¡ (UC61).
Pháº£n há»“i: Danh sÃ¡ch tiÃªu chÃ­.
POST /review-criteria
Má»¥c Ä‘Ã­ch: ThÃªm tiÃªu chÃ­ Ä‘Ã¡nh giÃ¡ má»›i (chá»‰ Admin) (UC61).
Header: Token xÃ¡c thá»±c (Admin).
Body: ThÃ´ng tin tiÃªu chÃ­.
PUT /review-criteria/{criteria_id}
Má»¥c Ä‘Ã­ch: Sá»­a tiÃªu chÃ­ Ä‘Ã¡nh giÃ¡ (chá»‰ Admin) (UC61).
Header: Token xÃ¡c thá»±c (Admin).
Body: ThÃ´ng tin cáº§n cáº­p nháº­t.
DELETE /review-criteria/{criteria_id}
Má»¥c Ä‘Ã­ch: XÃ³a tiÃªu chÃ­ Ä‘Ã¡nh giÃ¡ (chá»‰ Admin) (UC61).
Header: Token xÃ¡c thá»±c (Admin).
GET /action-types
Má»¥c Ä‘Ã­ch: Láº¥y danh sÃ¡ch loáº¡i hÃ nh Ä‘á»™ng (cho Admin xem logs) (UC61).
Header: Token xÃ¡c thá»±c (Admin).
Pháº£n há»“i: Danh sÃ¡ch loáº¡i hÃ nh Ä‘á»™ng.
âœ¨ API liÃªn quan Ä‘áº¿n Chá»©c nÄƒng nÃ¢ng cao & Tráº£i nghiá»‡m ngÆ°á»i dÃ¹ng (Events, EventRegistrations)
GET /events
Má»¥c Ä‘Ã­ch: Láº¥y danh sÃ¡ch sá»± kiá»‡n (UC72).
Query Params: Bá»™ lá»c (khoáº£ng ngÃ y, sáº¯p diá»…n ra), phÃ¢n trang.
Pháº£n há»“i: Danh sÃ¡ch sá»± kiá»‡n.
GET /events/{event_id}
Má»¥c Ä‘Ã­ch: Láº¥y thÃ´ng tin chi tiáº¿t má»™t sá»± kiá»‡n (UC72).
Pháº£n há»“i: ThÃ´ng tin chi tiáº¿t sá»± kiá»‡n.
POST /events
Má»¥c Ä‘Ã­ch: ThÃªm sá»± kiá»‡n má»›i (chá»‰ Admin/CTV) (UC65).
Header: Token xÃ¡c thá»±c (Admin/CTV).
Body: ThÃ´ng tin sá»± kiá»‡n (event_name, description, event_date, start_time, end_time, location, organizer_user_id).
Pháº£n há»“i: ThÃ´ng tin sá»± kiá»‡n Ä‘Ã£ táº¡o.
PUT /events/{event_id}
Má»¥c Ä‘Ã­ch: Sá»­a thÃ´ng tin sá»± kiá»‡n (chá»‰ Admin/CTV) (UC65).
Header: Token xÃ¡c thá»±c (Admin/CTV).
Body: ThÃ´ng tin cáº§n cáº­p nháº­t.
Pháº£n há»“i: ThÃ´ng tin sá»± kiá»‡n sau khi cáº­p nháº­t.
DELETE /events/{event_id}
Má»¥c Ä‘Ã­ch: XÃ³a sá»± kiá»‡n (chá»‰ Admin/CTV) (UC65).
Header: Token xÃ¡c thá»±c (Admin/CTV).
Pháº£n há»“i: Tráº¡ng thÃ¡i xÃ³a.
POST /events/{event_id}/register
Má»¥c Ä‘Ã­ch: ÄÄƒng kÃ½ tham gia sá»± kiá»‡n (chá»‰ Äá»™c giáº£) (UC72 má»Ÿ rá»™ng).
Header: Token xÃ¡c thá»±c (Äá»™c giáº£).
Pháº£n há»“i: Tráº¡ng thÃ¡i Ä‘Äƒng kÃ½ thÃ nh cÃ´ng/tháº¥t báº¡i.
DELETE /events/{event_id}/register
Má»¥c Ä‘Ã­ch: Há»§y Ä‘Äƒng kÃ½ tham gia sá»± kiá»‡n (chá»‰ Äá»™c giáº£) (UC72 má»Ÿ rá»™ng).
Header: Token xÃ¡c thá»±c (Äá»™c giáº£).
Pháº£n há»“i: Tráº¡ng thÃ¡i há»§y Ä‘Äƒng kÃ½ thÃ nh cÃ´ng/tháº¥t báº¡i.
GET /events/{event_id}/registrations
Má»¥c Ä‘Ã­ch: Láº¥y danh sÃ¡ch ngÆ°á»i Ä‘Äƒng kÃ½ tham gia sá»± kiá»‡n (chá»‰ Admin/CTV) (Má»Ÿ rá»™ng UC65).
Header: Token xÃ¡c thá»±c (Admin/CTV).
Pháº£n há»“i: Danh sÃ¡ch ngÆ°á»i dÃ¹ng Ä‘Ã£ Ä‘Äƒng kÃ½.

